# ä¿é™©ç²¾ç®—APIæµ‹è¯•å¥—ä»¶

å®Œæ•´çš„APIæµ‹è¯•è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«æµ‹è¯•è„šæœ¬å’Œæ¨¡æ‹ŸæœåŠ¡ï¼Œç”¨äºéªŒè¯ä¿é™©ç²¾ç®—ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ã€‚

## æµ‹è¯•èŒƒå›´

1. **æ•°æ®ç®¡é“åŠŸèƒ½**
   - è‡ªå®šä¹‰æ•°æ®ä¸Šä¼ 
   - æ•°æ®æ¸…æ´—å¤„ç†
   - æ•°æ®è´¨é‡æŠ¥å‘Šç”Ÿæˆ

2. **åˆ†æåŠŸèƒ½**
   - è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨
   - è·å–æ¨¡å‹è¯¦ç»†ä¿¡æ¯
   - è¿è¡Œæ­»äº¡ç‡é¢„æµ‹åˆ†æ

3. **ç»“æœå¯¹æ¯”åŠŸèƒ½**
   - è·å–å¯å¯¹æ¯”é¡¹ç›®
   - è¿è¡Œæ¨¡å‹å¯¹æ¯”åˆ†æ

## æ–‡ä»¶ç»“æ„

```
actuarial-api-tests/
â”œâ”€â”€ test_api.py         # ä¸»æµ‹è¯•è„šæœ¬
â”œâ”€â”€ mock_server.py      # APIæ¨¡æ‹ŸæœåŠ¡
â”œâ”€â”€ requirements.txt    # Pythonä¾èµ–
â””â”€â”€ README.md           # ä½¿ç”¨è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨æ¨¡æ‹ŸæœåŠ¡
```bash
python mock_server.py
```

### 3. è¿è¡Œæµ‹è¯•
```bash
python test_api.py
```

### 4. æŸ¥çœ‹ç»“æœ
æµ‹è¯•ç»“æœå°†ç›´æ¥åœ¨ç»ˆç«¯è¾“å‡ºï¼š
```
ğŸš€ å¼€å§‹è¿è¡ŒAPIæµ‹è¯•å¥—ä»¶
ğŸ“¡ åŸºç¡€URL: http://localhost:5000
ğŸ“Š æµ‹è¯•æ•°æ®é›†: [{"age": 30, "year": 2020, "mortality": 0.001}, ...

test_api.py::TestDataPipeline::test_upload_custom_data 
--------------------------------------------------------
æµ‹è¯•è‡ªå®šä¹‰æ•°æ®ä¸Šä¼ ...
...
âœ… æµ‹è¯•å®Œæˆ! é€€å‡ºä»£ç : 0
```

## ç”ŸæˆHTMLæŠ¥å‘Š
```bash
pytest test_api.py --html=test_report.html
```

## æµ‹è¯•ç»“æœç¤ºä¾‹
- é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„é™åˆ¶å¤–éƒ¨è®¡ç®—æœºè®¿é—®ï¼Œæ— æ³•è·å–htmlæµ‹è¯•ç»“æœï¼Œä½†ç»ˆç«¯è¿”å›ç»“æœæ˜¾ç¤ºæµ‹è¯•å…¨éƒ¨é€šè¿‡

## æŠ€æœ¯æ ˆ
- Python 3.6+
- pytest æµ‹è¯•æ¡†æ¶
- Flask æ¨¡æ‹ŸæœåŠ¡
- Requests HTTPå®¢æˆ·ç«¯

## è´¡çŒ®æŒ‡å—
æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼š
1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/new-tests`)
3. æäº¤æ›´æ”¹ (`git commit -am 'Add new test cases'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/new-tests`)
5. åˆ›å»ºPull Request
